Env={},Env.Config={resourcePath:"/resources",applicationUrl:"/"},function(t){Env.Application=function(n){return this.modules=[],this.plugins=[],this.ctx=!1,this.config=t.extend(!0,Env.Config,n),this.sandbox=new Env.Sandbox(this),t.extend(this,{registerModules:function(n){var i=this,s=[];return this.ctx===!1&&(this.ctx=n),t(".mod",n).each(function(){var n=t(this).attr("class").split(" ");if(n.length>1){var o="";for(var e in n)n[e].length>3&&0===n[e].indexOf("mod")&&(o=n[1].substr(3));if(o.length>0&&Env.Application[o]){var r=i.registerModule(this,o);s.push(r)}}}),s},start:function(t){this.modules[t].start()},stop:function(t){this.modules[t].stop(),this.modules[t]=null},run:function(){var n=this.registerModules(t("body"));for(var i in n)this.start(n[i])},registerModule:function(t,n){var i=parseInt(this.modules.length)+1;return this.modules[i]=new Env.Application[n](t,this.sandbox,i),this.applyErrorHandler(n,this.modules[i]),this.modules[i].init(),i},getPlugin:function(t){if(this.plugins[t]);else{var n=null;this.plugins[t]=new Env.Application[t](n,this.sandbox),this.applyErrorHandler(t,this.plugins[t]);try{this.plugins[t].init()}catch(i){window.console&&window.console.log&&console.log(i)}}return this.plugins[t]},stopAll:function(){for(var t in this.modules)this.stop(t)},applyErrorHandler:function(n,i){var s=this;for(var o in i){var e=i[o];t.isFunction(e)&&(i[o]=function(t,n,i){return function(){try{return i.apply(this,arguments)}catch(o){if(window.console&&window.console.log&&(console.log("Error in "+t+"."+n+"()"),console.log(o.message),console.log(o.fileName+" in line "+o.lineNumber)),0==s.config.supressErrors)throw o}}}(n,o,e))}}})}}(jQuery),function(t){Env.Sandbox=function(n){return this.application=n,this.listeners=[],this.listenerMethods=[],t.extend(this,{get:function(t){return this.application.config[t]},notify:function(t){var n=[];for(i=1;i<arguments.length;i++)n.push(arguments[i]);try{var s=this.listeners[t][this.listenerMethods[t]];s.apply(this.listeners[t],n)}catch(o){window.console&&window.console.log&&(console.log("no listener found for "+t),console.log(o))}},listen:function(t,n,i){this.listeners[t]=n,this.listenerMethods[t]=i},getPlugin:function(t){var n=[];for(i=1;i<arguments.length;i++)n.push(arguments[i]);return this.application.getPlugin(t,n)},getModule:function(t){if(this.application.modules[t])return this.application.modules[t];throw{name:"Error",message:"no module registered for id: "+t,toString:function(){return this.name+": "+this.message}}}})}}(jQuery),function(t){Env.Module=function(n,i,s){return arguments.length>0?(this.ctx=n,this.sandbox=i,this.moduleId=s,t.extend(this,{init:function(){var n=this.onInit;t(this.ctx).attr("data-moduleId",this.moduleId),t.isFunction(n)&&this.onInit()},start:function(){var n=this.onStart;t.isFunction(n)&&this.onStart()},stop:function(){var n=this.onStop;t.isFunction(n)&&this.onStop()}})):void 0}}(jQuery);